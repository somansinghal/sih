<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fare Calculator | Garudyaan</title>
    <link rel="stylesheet" href="styles-enhanced.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@300;400;500;600;700&family=Noto+Sans+Tamil:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#FF6B35">
    <meta name="description" content="Calculate public transport fares for buses, trains, and autos in supported Indian cities.">
    <link rel="icon" type="image/svg+xml" href="Garunyaan.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles-enhanced.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="Garunyaan.png" alt="Garudyaan Logo" class="logo-img">
                <span class="logo-text">Garudyaan</span>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="track.html" class="nav-link">Track</a>
                <a href="routes.html" class="nav-link">Routes</a>
                <a href="cities.html" class="nav-link">Cities</a>
                <a href="fare_calculator.html" class="nav-link active">Fare Calculator</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </div>
            <div class="nav-controls">
                <div id="navClock" class="nav-clock" aria-label="Current time"></div>
                <div class="language-selector">
                    <button class="lang-btn" onclick="toggleLanguageMenu()">
                        <span class="current-lang">ğŸ‡ºğŸ‡¸ EN</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="language-menu" id="languageMenu">
                        <button onclick="changeLanguage('en')" class="lang-option"><span>ğŸ‡ºğŸ‡¸</span> English</button>
                        <button onclick="changeLanguage('hi')" class="lang-option"><span>ğŸ‡®ğŸ‡³</span> à¤¹à¤¿à¤¨à¥à¤¦à¥€</button>
                        <button onclick="changeLanguage('ta')" class="lang-option"><span>ğŸ‡®ğŸ‡³</span> à®¤à®®à®¿à®´à¯</button>
                        <button onclick="changeLanguage('kn')" class="lang-option"><span>ğŸ‡®ğŸ‡³</span> à²•à²¨à³à²¨à²¡</button>
                        <button onclick="changeLanguage('te')" class="lang-option"><span>ğŸ‡®ğŸ‡³</span> à°¤à±†à°²à±à°—à±</button>
                        <button onclick="changeLanguage('mr')" class="lang-option"><span>ğŸ‡®ğŸ‡³</span> à¤®à¤°à¤¾à¤ à¥€</button>
                        <button onclick="changeLanguage('gu')" class="lang-option"><span>ğŸ‡®ğŸ‡³</span> àª—à«àªœàª°àª¾àª¤à«€</button>
                        <button onclick="changeLanguage('bn')" class="lang-option"><span>ğŸ‡®ğŸ‡³</span> à¦¬à¦¾à¦‚à¦²à¦¾</button>
                    </div>
                </div>
                <div class="theme-selector">
                    <button class="theme-btn" onclick="toggleThemeMenu()">
                        <span class="current-theme">â˜€ï¸</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="theme-menu" id="themeMenu">
                        <button onclick="changeTheme('light')" class="theme-option"><span>â˜€ï¸</span> Light</button>
                        <button onclick="changeTheme('dark')" class="theme-option"><span>ğŸŒ™</span> Dark</button>
                        <button onclick="changeTheme('tricolor')" class="theme-option"><span>ğŸ‡®ğŸ‡³</span> Tricolor</button>
                    </div>
                </div>
                <div class="user-info-btn" onclick="toggleUserMenu()">
                    <div class="user-avatar">U</div>
                    <span>User</span>
                    <i class="fas fa-chevron-down"></i>
                    <div class="user-menu" id="userMenu">
                        <a href="userpage.html" class="user-menu-item"><i class="fas fa-user"></i> Profile</a>
                        <a href="login.html" class="user-menu-item"><i class="fas fa-sign-in-alt"></i> Login</a>
                        <a href="register.html" class="user-menu-item"><i class="fas fa-user-plus"></i> Register</a>
                        <div class="user-menu-divider"></div>
                        <button class="user-menu-item" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
                    </div>
                </div>
            </div>
            <div class="hamburger" onclick="toggleMobileMenu()">
                <span></span><span></span><span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="page-hero">
        <div class="container">
            <h1>Fare Calculator</h1>
            <p>Estimate your travel costs with ease.</p>
        </div>
    </section>

    <!-- Fare Calculator Section -->
    <section class="feedback-section">
        <div class="container">
            <div class="feedback-container" style="grid-template-columns: 1fr;">
                <div class="feedback-form-container">
                    <form class="feedback-form" id="fareForm">
                        <div class="form-group">
                            <label for="fareCity">Select City</label>
                            <select id="fareCity" name="city" required></select>
                        </div>
                        <div class="form-group">
                            <label for="fareRoute">Select Route</label>
                            <select id="fareRoute" name="route" required disabled>
                                <option value="">Select a city first</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary btn-full">
                            <i class="fas fa-calculator"></i> Calculate Fare
                        </button>
                    </form>
                    <div id="fareResult" class="fare-result" style="display: none;">
                        <h3>Estimated Fare</h3>
                        <p id="fareAmount"></p>
                        <small id="fareDetails"></small>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="Garunyaan.png" alt="Garudyaan Logo" class="logo-img">
                        <span>Garudyaan</span>
                    </div>
                    <p>Making public transport accessible and trackable across India</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="fare_calculator.html">Fare Calculator</a></li>
                        <li><a href="track.html">Track</a></li>
                        <li><a href="routes.html">Routes</a></li>
                        <li><a href="cities.html">Cities</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="help.html">Help</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="help_center.html">Help Center</a></li>
                        <li><a href="features_guide.html">Features Guide</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="feedback.html">Feedback</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Garudyaan. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="config.js"></script>
    <script src="script-enhanced.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const citySelect = document.getElementById('fareCity');
            const routeSelect = document.getElementById('fareRoute');
            const fareForm = document.getElementById('fareForm');
            const fareResult = document.getElementById('fareResult');
            const fareAmount = document.getElementById('fareAmount');
            const fareDetails = document.getElementById('fareDetails');

            // Populate cities
            citySelect.innerHTML = '<option value="">Select a city...</option>';
            for (const cityKey in CONFIG.cities) {
                const city = CONFIG.cities[cityKey];
                const option = document.createElement('option');
                option.value = cityKey;
                option.textContent = city.name;
                citySelect.appendChild(option);
            }

            // Handle city change
            citySelect.addEventListener('change', () => {
                const selectedCityKey = citySelect.value;
                routeSelect.innerHTML = '<option value="">Select a route...</option>';
                fareResult.style.display = 'none';

                if (selectedCityKey && CONFIG.cities[selectedCityKey]) {
                    routeSelect.disabled = false;
                    CONFIG.cities[selectedCityKey].routes.forEach(route => {
                        const option = document.createElement('option');
                        option.value = route.id;
                        option.textContent = `Route ${route.number}: ${route.name}`;
                        option.dataset.fare = route.fare;
                        routeSelect.appendChild(option);
                    });
                } else {
                    routeSelect.disabled = true;
                }
            });

            // Handle form submission
            fareForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const selectedRouteOption = routeSelect.options[routeSelect.selectedIndex];
                const fare = selectedRouteOption.dataset.fare;

                if (fare) {
                    fareAmount.textContent = fare;
                    fareDetails.textContent = `For: ${selectedRouteOption.textContent}`;
                    fareResult.style.display = 'block';
                } else {
                    showNotification('Please select a valid route.', 'warning');
                    fareResult.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>